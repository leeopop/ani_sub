# ani_sub
[![Build Status](https://travis-ci.org/leeopop/ani_sub.svg?branch=master)](https://travis-ci.org/leeopop/ani_sub)

자막 파일 이름 변경 스크립트.

"[Release] Animation Season 2 EP 01.mkv"

"자막 애니 시즌 2 01화.smi"

이런 경우에 자막 파일의 이름이 동영상을 따라가도록 해 줍니다.

#사용법
~~~~~~~~{.sh}
python3 ani_sub.py mkv smi
#동영상 파일 확장자와 자막 파일 확장자를 순서대로 넣어주면 됩니다.
#파일 이름은 동영상을 따라갑니다
~~~~~~~~

#작동 원리

[Release] Animation Season 2 EP 01.mkv ~ EP 25

[Release] Animation Season 2 NCOP 01.mkv ~ NCOP 04

자막 애니 시즌 2 01화.smi

이 경우에 \d+ 의 형태로 서치를 합니다.
먼저 Season 2 에서 "2" 가 감지됩니다.
"2"는 모두 25+4개 가 감지됩니다.
"2"의 위치에서 발견된 \d+를 정렬해봅니다.
서로 다른 \d+는 1개 (2) 밖에 발견되지 않습니다.
따라서 그 이후의 \d+를 검색하게 됩니다.

그 다음은 EP 01~ EP 25까지, 그리고 NCOP 01~04까지 검색이 됩니다.
이 두 가지는 검색된 \d+의 위치가 다릅니다.
EP \d+는 25개, NCOP \d+는 4개이므로 25개인 EP \d+를 선택합니다.
EP \d+에서 검색된 25개는 서로 다른 01~25까지가 검색됩니다.
이 동영상 25개가 후보에 오릅니다 (숫자 순으로 정렬되어서).

자막에 대해서도 같은 작업을 수행합니다.
자막에서 발견된 \d+의 숫자와 동영상에서 발견된 \d+의 숫자가 같으면
숫자 순서로 정렬된 자막과 동영상의 이름을 매치시킵니다.

#기여
더 좋은 방법이나 스크립트에 오류가 있거나 개선점이 있으면 언제든지 기여 부탁드립니다.
방법을 개선할 때에는 어떠한 방법인지 설명을 같이 주시면 감사하겠습니다.

